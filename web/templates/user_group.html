{{/*###
NoCompile=true
*/}}
{{ define "userGroup" }}
{{ with . }}
	<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6" id="main-column-grid">
		{{ $teamJSON := teamJSON }}
		{{ range .members }}
			{{/* ignore fokabot */}}
			{{ if ne (int .ID) 999 }}
				{{ $tj := index $teamJSON (print .ID)}}
				<div onclick="window.location.href='/users/{{ .ID }}'" class="group card overflow-hidden relative hover:border-primary/50 transition-all duration-300 cursor-pointer">
					<div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div>
					<div class="relative p-3">
						<div class="mb-3 relative">
							<div class="relative w-full aspect-square rounded-2xl overflow-hidden border-2 border-dark-border group-hover:border-primary/50 transition-colors">
								<img src="{{ config "APP_AVATAR_URL" $.Conf }}/{{ .ID }}"
									alt="{{ .Username }}"
									class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
									onerror="this.src='/static/images/default-avatar.png'">
								<div class="absolute inset-0 bg-gradient-to-t from-dark-bg/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
							</div>
						</div>
						<div class="space-y-1 w-full">
							<div class="flex items-center justify-center gap-1.5 font-semibold text-white group-hover:text-primary transition-colors w-full">
								<div class="flex items-center justify-center min-w-0 max-w-full gap-1.5">
									{{ country .Country false }}
									<a href="/users/{{ .ID }}" class="truncate hover:underline relative z-10" onclick="event.stopPropagation()">{{ .Username }}</a>
								</div>
							</div>
							<div class="flex items-center justify-center gap-1.5 text-xs text-gray-400 w-full" title="Registered">
								<i class="fas fa-calendar-plus flex-shrink-0"></i>
								<span class="truncate">{{ timeFromUnix .RegisteredOn }}</span>
							</div>
							<div class="flex items-center justify-center gap-1.5 text-xs text-gray-400 w-full" title="Latest activity">
								<i class="fas fa-clock flex-shrink-0"></i>
								<span class="truncate">{{ timeFromUnix .LatestActivity }}</span>
							</div>
						</div>
					</div>
				</div>
			{{ end }}
		{{ end }}
	</div>
{{ end }}
{{ end }}
